<div class="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6">
  <form [formGroup]="jobForm" (ngSubmit)="onSubmit()" class="w-full max-w-lg bg-white shadow-md rounded-lg p-8">
    <div class="flex flex-col-2 justify-between">
      <h2 class="text-2xl font-semibold text-gray-800 mb-6">Create Job Listing</h2>
      <a class="w-[15px] h-[32px]" routerLink="/company/job"><i class="fa-solid fa-xmark text-2xl"></i></a>
    </div>
    <!-- Title -->
    <div class="mb-4">
      <label for="title" class="block text-gray-700 font-semibold mb-1">Title *</label>
      <input id="title" type="text" formControlName="title" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      <div class="text-red-500 text-sm mt-1" *ngIf="jobForm.get('title')?.touched && jobForm.get('title')?.errors?.['required']">
        Title is required
      </div>
    </div>

    <!-- Salary -->
    <div class="mb-4">
      <label for="salary" class="block text-gray-700 font-semibold mb-1">Salary *</label>
      <input id="salary" type="number" step="0.01" formControlName="salary" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      <div class="text-red-500 text-sm mt-1" *ngIf="jobForm.get('salary')?.touched && jobForm.get('salary')?.errors?.['required']">
        Salary is required
      </div>
    </div>

    <!-- Deadline Date -->
    <div class="mb-4">
      <label for="deadlineDate" class="block text-gray-700 font-semibold mb-1">Deadline Date *</label>
      <input id="deadlineDate" type="datetime-local" formControlName="deadlineDate" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      <div class="text-red-500 text-sm mt-1" *ngIf="jobForm.get('deadlineDate')?.touched && jobForm.get('deadlineDate')?.errors?.['required']">
        Deadline date is required
      </div>
    </div>

    <!-- Description -->
    <div class="mb-4">
      <label for="description" class="block text-gray-700 font-semibold mb-1">Description *</label>
      <textarea id="description" formControlName="description" rows="4" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
      <div class="text-red-500 text-sm mt-1" *ngIf="jobForm.get('description')?.touched && jobForm.get('description')?.errors?.['required']">
        Description is required
      </div>
    </div>

    <!-- Job Type -->
    <div class="mb-4">
      <label for="jobType" class="block text-gray-700 font-semibold mb-1">Job Type *</label>
      <select id="jobType" formControlName="jobType" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">Select a job type</option>
        <option value="FULL_TIME">Full Time</option>
        <option value="PART_TIME">Part Time</option>
        <option value="CONTRACT">Contract</option>
        <option value="FREELANCE">Freelance</option>
      </select>
      <div class="text-red-500 text-sm mt-1" *ngIf="jobForm.get('jobType')?.touched && jobForm.get('jobType')?.errors?.['required']">
        Job type is required
      </div>
    </div>

    <!-- Location -->
    <div class="mb-4">
      <label for="location" class="block text-gray-700 font-semibold mb-1">Location *</label>
      <input id="location" type="text" formControlName="location" class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
      <div class="text-red-500 text-sm mt-1" *ngIf="jobForm.get('location')?.touched && jobForm.get('location')?.errors?.['required']">
        Location is required
      </div>
    </div>
    <div formArrayName="phases" class="mb-6">
      <h3 class="text-xl font-semibold mb-2">Job Phases</h3>
      <div *ngFor="let phase of phases.controls; let i = index" [formGroupName]="i" class="flex items-center gap-4 mb-2">
        <input type="text" placeholder="Phase Name" formControlName="name"
               class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        <button type="button" (click)="removePhase(i)"
                class="text-red-500 hover:text-red-700">Remove</button>
        <div class="text-red-500 text-sm mt-1"
             *ngIf="phase.get('name')?.touched && phase.get('name')?.errors?.['required']">
          Phase name is required
        </div>
      </div>
      <button type="button" (click)="addPhase()"
              class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600">Add Phase</button>
    </div>


    <!-- Submit Button -->
    <button type="submit" [disabled]="!jobForm.valid" class="w-full bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-blue-300">
      Submit
    </button>
  </form>
</div>
